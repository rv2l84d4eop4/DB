function addEventListener_multi(a,s,e){s.split(" ").forEach((s=>a.addEventListener(s,e,!1)))}function getRandom(a,s){return a=Math.ceil(a),s=Math.floor(s),Math.floor(Math.random()*(s-a+1))+a}function getRelativePos(a){var s=a.parentNode.getBoundingClientRect(),e=a.getBoundingClientRect(),t={};return t.top=e.top-s.top+a.parentNode.scrollTop,t.right=e.right-s.right,t.bottom=e.bottom-s.bottom,t.left=e.left-s.left,t}function formatTime(a){var s,e=0,t=0;return(a=parseInt(a,10))>3600&&(a-=60*(e=parseInt(a/3600,10))*60),a>60&&(a-=60*(t=parseInt(a/60,10))),s=a,a=e>0?e+":":"",a+=t>0?(t<10&&e>0?"0":"")+t+":":"0:",a+=(s<10?"0":"")+s}function samz_initTime(){var a;(samz_controls.querySelector(".start-time").innerHTML=formatTime(samz_audio.currentTime),samz_isStream||(samz_controls.querySelector(".end-time").innerHTML=formatTime(samz_audio.duration),samz_progress.value=samz_audio.currentTime/samz_audio.duration*100),samz_audio.currentTime==samz_audio.duration)&&(samz_controls.querySelector(".samz-plause").classList.remove("fa-pause"),samz_controls.querySelector(".samz-plause").classList.add("fa-play"),samz_audio.removeEventListener("timeupdate",samz_initTime),samz_isNext?(++samz_a_index==samz_a_url.length?(samz_a_index=0,a=samz_a_url[0]):a=samz_a_url[samz_a_index],samz_changeAudio(a),samz_setAlbum(samz_a_index)):samz_isPlaying=!1)}function samz_initAudio(){samz_isLoaded=4==samz_audio.readyState,samz_isStream="Infinity"==samz_audio.duration,samz_controls.querySelector(".samz-plause").disabled=!1,samz_progress.disabled=!!samz_isStream,samz_isStream||(samz_progress.parentNode.classList.remove("samz-load","samz-loading"),samz_controls.querySelector(".end-time").innerHTML=formatTime(samz_audio.duration)),samz_audio.addEventListener("timeupdate",samz_initTime),samz_isLoaded&&samz_isPlaying&&samz_audio.play(),addEventListener_multi(samz_progress,"touchstart mousedown",(function(a){if(samz_isStream)return a.stopPropagation(),!1;4==samz_audio.readyState&&(samz_audio.removeEventListener("timeupdate",samz_initTime),samz_audio.pause())})),addEventListener_multi(samz_progress,"touchend mouseup",(function(a){if(samz_isStream)return a.stopPropagation(),!1;4==samz_audio.readyState&&(samz_audio.currentTime=samz_progress.value*samz_audio.duration/100,samz_audio.addEventListener("timeupdate",samz_initTime),samz_isPlaying&&samz_audio.play())}))}function samz_loadAudio(a){samz_progress.parentNode.classList.add("samz-loading"),samz_controls.querySelector(".samz-plause").disabled=!0,samz_audio.querySelector("source").src=a.dataset.src,samz_audio.load(),samz_audio.volume=parseFloat(samz_v_num/100),samz_audio.addEventListener("canplaythrough",samz_initAudio),samz_audio.addEventListener("error",(function(){alert("Please reload the page.")}))}function samz_setAlbum(a){samz_cover.innerHTML=samz_a_url[a].dataset.cover?'<div style="background:url('+samz_a_url[a].dataset.cover+') no-repeat;background-size:cover;width:100px;height:100px;"></div>':'<i class="fa fa-music fa-5x"></i>',samz_title.innerHTML=samz_source[a].querySelector(".samz-source").innerHTML,samz_artist.innerHTML=samz_source[a].querySelector(".samz-desc")?samz_source[a].querySelector(".samz-desc").innerHTML:""}function samz_changeAudio(a){samz_isLoaded=!1,samz_controls.querySelector(".samz-prev").disabled=0==samz_a_index,samz_controls.querySelector(".samz-plause").disabled=!!samz_auto_load,samz_controls.querySelector(".samz-next").disabled=samz_a_index==samz_a_url.length-1,samz_progress.parentNode.classList.add("samz-load"),samz_progress.disabled=!0,samz_progress.value=0,samz_controls.querySelector(".start-time").innerHTML="00:00",samz_controls.querySelector(".end-time").innerHTML="00:00",a=samz_isRandom&&samz_isNext?samz_a_url[getRandom(0,samz_a_url.length-1)]:a;for(var s=0;s<samz_a_url.length;s++)samz_a_url[s].parentNode.classList.remove("samz-active"),samz_a_url[s]==a&&(samz_a_index=s,samz_a_url[s].parentNode.classList.add("samz-active"));var e=getRelativePos(samz_source[samz_a_index]);samz_source[samz_a_index].parentNode.scrollTop=e.top,(samz_auto_load||samz_isPlaying)&&samz_loadAudio(a),samz_isPlaying&&(samz_controls.querySelector(".samz-plause").classList.remove("fa-play"),samz_controls.querySelector(".samz-plause").classList.add("fa-pause"))}function samz_startScript(){ap_samz=document.querySelector("#samz"),samz_audio=ap_samz.querySelector("#audio"),samz_album=ap_samz.querySelector(".samz-album"),samz_cover=samz_album.querySelector(".samz-cover"),samz_title=samz_album.querySelector(".samz-title"),samz_artist=samz_album.querySelector(".samz-artist"),samz_controls=ap_samz.querySelector(".samz-controls"),samz_progress=samz_controls.querySelector(".samz-progress"),samz_volume=samz_controls.querySelector(".samz-volume"),samz_v_slider=samz_volume.querySelector(".samz-v-slider"),samz_v_num=samz_v_slider.value,samz_others=samz_controls.querySelector(".samz-others"),samz_auto_load=samz_config.auto_load,samz_config.shide_top&&samz_album.parentNode.classList.toggle("samz-hide"),samz_config.shide_btm&&(samz_playlist.classList.add("samz-display"),samz_playlist.classList.toggle("samz-hide")),samz_a_url.length<=1&&(samz_controls.querySelector(".samz-prev").style.display="none",samz_controls.querySelector(".samz-next").style.display="none",samz_others.querySelector(".samz-plext").style.display="none",samz_others.querySelector(".samz-random").style.display="none"),samz_source.forEach((function(a,s){a.classList.contains("samz-active")&&(samz_a_index=s),a.addEventListener("click",(function(){samz_audio.removeEventListener("timeupdate",samz_initTime),samz_a_index=s,samz_changeAudio(this.querySelector(".samz-source")),samz_setAlbum(samz_a_index)}))})),samz_changeAudio(samz_a_url[samz_a_index]),samz_setAlbum(samz_a_index),samz_controls.querySelector(".samz-plauseward").addEventListener("click",(function(a){var s=a.target.classList;s.contains("samz-plause")?samz_audio.paused?(samz_isLoaded||samz_loadAudio(samz_a_url[samz_a_index]),samz_audio.play(),samz_isPlaying=!0,s.remove("fa-play"),s.add("fa-pause")):(samz_audio.pause(),samz_isPlaying=!1,s.remove("fa-pause"),s.add("fa-play")):(s.contains("samz-prev")&&0!=samz_a_index?(samz_a_index-=1,a.target.disabled=0==samz_a_index):s.contains("samz-next")&&samz_a_index!=samz_a_url.length-1&&(samz_a_index+=1,a.target.disabled=samz_a_index==samz_a_url.length-1),samz_audio.removeEventListener("timeupdate",samz_initTime),samz_changeAudio(samz_a_url[samz_a_index]),samz_setAlbum(samz_a_index))})),samz_volume.addEventListener("click",(function(a){var s=a.target.classList;s.contains("samz-mute")?s.contains("fa-volume-up")?(s.remove("fa-volume-up"),s.add("fa-volume-off"),samz_v_slider.value=0):(s.remove("fa-volume-off"),s.add("fa-volume-up"),samz_v_slider.value=samz_v_num):0!=(samz_v_num=samz_v_slider.value)&&(samz_controls.querySelector(".samz-mute").classList.remove("fa-volume-off"),samz_controls.querySelector(".samz-mute").classList.add("fa-volume-up")),samz_audio.volume=parseFloat(samz_v_slider.value/100)})),samz_others.addEventListener("click",(function(a){var s=a.target.classList;s.contains("samz-plext")?(samz_isNext=!(samz_isNext&&!samz_isRandom),samz_isRandom||(samz_isRanext=!samz_isRanext),s.contains("samz-active")&&!samz_isRandom?s.remove("samz-active"):s.add("samz-active")):s.contains("samz-random")?(samz_isRandom=!samz_isRandom,samz_isNext&&!samz_isRanext?(samz_isNext=!1,samz_others.querySelector(".samz-plext").classList.remove("samz-active")):(samz_isNext=!0,samz_others.querySelector(".samz-plext").classList.add("samz-active")),s.contains("samz-active")?s.remove("samz-active"):s.add("samz-active")):s.contains("samz-shide-top")?samz_album.parentNode.classList.toggle("samz-hide"):s.contains("samz-shide-bottom")&&(samz_playlist.classList.add("samz-display"),samz_playlist.classList.toggle("samz-hide"))}))}if(document.querySelector("#samz")){var samz_auto_load,samz_audio,samz_album,samz_cover,samz_title,samz_artist,samz_controls,samz_progress,samz_volume,samz_v_slider,samz_v_num,samz_others,samz_buttonz,ap_samz=document.querySelector("#samz"),samz_playlist=ap_samz.querySelector(".samz-playlist"),samz_source=samz_playlist.querySelectorAll("li"),samz_a_url=samz_playlist.querySelectorAll("[data-src]"),samz_a_index=0,samz_isPlaying=!1,samz_isNext=!0,samz_isRandom=!1,samz_isRanext=!1,samz_isStream=!1,samz_isLoaded=!1,samz_config=ap_samz.dataset.config?JSON.parse(ap_samz.dataset.config):{shide_top:!1,shide_btm:!1,auto_load:!1},samz_elem="";samz_elem+='<audio id="audio" preload><source src="" type="audio/mpeg"></audio>',samz_elem+='<div class="samz-display"><div class="samz-album w-full flex-wrap"><div class="samz-cover"><i class="fa fa-music fa-5x"></i></div><div class="samz-info"><div class="samz-title">Title</div><div class="samz-artist">Artist</div></div></div></div>',samz_elem+='<div class="samz-controls flex-wrap flex-align">',samz_elem+='<div class="samz-plauseward flex flex-align"><button type="button" class="samz-prev fa fa-backward" disabled></button><button type="button" class="samz-plause fa fa-play" disabled></button><button type="button" class="samz-next fa fa-forward" disabled></button></div>',samz_elem+='<div class="samz-tracker samz-load"><input class="samz-progress" type="range" min="0" max="100" value="0" disabled/><div class="samz-buffer"></div></div>',samz_elem+='<div class="samz-time flex flex-align"><span class="start-time">00:00</span><span class="samz-slash">&#160;/&#160;</span><span class="end-time">00:00</span></div>',samz_elem+='<div class="samz-volume flex flex-align"><button type="button" class="samz-mute fa fa-volume-up"></button><input class="samz-v-slider" type="range" min="0" max="100" value="100"/></div>',samz_elem+='<div class="samz-others flex flex-align"><button type="button" class="samz-random fa fa-random" title="Random"></button><div class="samz-shide"><button type="button" class="samz-shide-top fa fa-caret-up" title="Show/Hide Album"></button><button type="button" class="samz-shide-bottom fa fa-caret-down" title="Show/Hide Playlist"></button></div></div>',samz_elem+="</div>";var samz_player=document.createElement("div");samz_player.classList.add("samz-player"),samz_player.innerHTML=samz_elem,ap_samz.insertBefore(samz_player,samz_playlist),samz_startScript()}